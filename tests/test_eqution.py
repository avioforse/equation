import pytest

from equation.utils import solution_of_equation

EQUATION = [
    ["x+10=2", -8],
    ["2+x=10", 8],
    ["2+10=x", 12],
    ["x-10=2", 12],
    ["10-x=2", 8],
    ["10-2=x", 8],
    ["20*x=10", 0.5],
    ["x*10=20", 2],
    ["10*2=x", 20],
    ["x/2=10", 20],
    ["10/x=2", 5.0],
    ["10/2=x", 5],
    ["x*10-2=2*5", 1.2],
    ["17-x*2=5", 6.0],
    ["-5-x*2=5", -5.0],
    ["-10-x=-30", 20],
    ["2+3*x=11", 3],
    ["5*x-4=16", 4],
    ["3+2*x=11", 4],
    ["7*x-5=9", 2],
    ["4+3*x=13", 3],
    ["6*x-2=10", 2],
    ["8=x+5", 3],
    ["9*x-3=24", 3],
    ["2+5*x=17", 3],
    ["8*x-4=28", 4],
    ["3*x-1=8", 3],
    ["10*x+2=32", 3],
    ["4*x-7=5", 3],
    ["5+6*x=26-3", 3],
    ["7*x+3=31", 4],
    ["2*x-3=5", 4],
    ["6+4*x=34", 7],
    ["8*x-1=55", 7],
    ["9+2*x=29", 10],
    ["3*x+4=25", 7],
    ["5*x-2=13", 3],
    ["4+6*x=28", 4],
    ["10=x-5", 15],
    ["7*x+1=36", 5],
    ["2*x+9=23", 7],
    ["12=3*x/2", 8],
    ["4*x/2+5=13", 4],
    ["3*(x+2)=9", 1],
    ["(3+2x)*4=28", 4],
    ["(10-x)/2+1=6", 0],
    ["(5*x-15)+10=0", 1],
    ["(8+x)/4=3", 4],
    ["2+(2*x+6)*3=36+2", 3],
    ["(12-3*x)+9=0", 7],
    ["(4*x+8)/2=12", 4],
    ["(15-x)*2=26", 2],
    ["(6+3*x)-12=0", 2],
    ["(7-2*x)/5=1", 1.0],
    ["(12-3*x)+9=(4+1)*2-10", 7],
    ["(6+2*x)/5=1*x", 2.0],
    ["(2*x+3*x)-5=0", 1],
    ["(5*x-10)/2+x=5.5", 3],
    ["(6-3*x)/3+2*x=1", -1],
    ["(x*2+4)+3*x=19", 3],
    ["(8-2*x)*2+x=10", 2],
    ["(3*x+6)/2-2*x=0", 6],
    ["2*(7+2*x)-5*x=10", 4],
    ["(x*4-8)+2*x=4", 2],
    ["(10-3*x)+x*2=4", 6],
]


@pytest.mark.parametrize(("equation", "answer"), EQUATION)
def test_solution_of_equation(equation: str, answer: float):
    assert solution_of_equation(equation) == answer
